/*
Navicat MySQL Data Transfer

Source Server         : 106.12.26.82_3306
Source Server Version : 50724
Source Host           : 106.12.26.82:3306
Source Database       : easyconf

Target Server Type    : MYSQL
Target Server Version : 50724
File Encoding         : 65001

Date: 2019-06-12 15:37:46
*/

SET FOREIGN_KEY_CHECKS=0;

-- ----------------------------
-- Table structure for config
-- ----------------------------
DROP TABLE IF EXISTS `config`;
CREATE TABLE `config` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `project_id` bigint(20) NOT NULL COMMENT '所属工程id',
  `env_name` varchar(64) COLLATE utf8_bin NOT NULL COMMENT '环境名称，建议英文',
  `env_type_id` bigint(20) NOT NULL COMMENT '所属环境类型id',
  `content` text COLLATE utf8_bin,
  `last_modify_uid` bigint(20) DEFAULT NULL,
  `last_modify_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  `delete_flag` smallint(6) NOT NULL DEFAULT '0' COMMENT '1 删除, 0 未删除',
  `creator_uid` bigint(20) DEFAULT NULL COMMENT '创建者uid',
  `format` varchar(16) COLLATE utf8_bin DEFAULT NULL COMMENT '配置内容格式 properties , yml等',
  `version` varchar(32) COLLATE utf8_bin DEFAULT NULL COMMENT '版本号',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=20 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of config
-- ----------------------------
INSERT INTO `config` VALUES ('9', '5', 'dev-junyi', '3', 0x78, '6', '2018-12-18 07:23:13', '0', '6', null, null);
INSERT INTO `config` VALUES ('10', '6', 'aliyun-pre', '6', 0x6161613D3232, '3', '2018-12-21 05:52:57', '0', '4', null, '1.0.0');
INSERT INTO `config` VALUES ('11', '5', 'dev-junyi2', '3', 0x667765, '3', '2018-12-19 09:17:16', '0', '3', 'properties', null);
INSERT INTO `config` VALUES ('13', '7', 'wewe', '3', 0x77653A0A202020206677663A0A202020202020202079793A20323332330A202078783A2033330A202079793A2032320A2020770A202065, '3', '2019-01-08 09:12:16', '0', '3', 'yaml', '1.3.0');
INSERT INTO `config` VALUES ('14', '5', 'weeee', '3', 0x78783A0D0A20202079793A20313231, '3', '2018-12-20 02:20:08', '0', '3', null, null);
INSERT INTO `config` VALUES ('15', '5', 'ewewe', '3', 0x78783A0D0A2020202079793A203132, '3', '2018-12-20 02:21:29', '0', '3', 'yaml', null);
INSERT INTO `config` VALUES ('16', '6', 'dev-192.168.4.83', '4', 0x7365727665722E706F72743D383038310A737072696E672E6A61636B736F6E2E646174652D666F726D61743D797979792D4D4D2D64642048483A6D6D3A73730A737072696E672E6A61636B736F6E2E74696D652D7A6F6E653D474D542B380A737072696E672E6A61636B736F6E2E73657269616C697A6174696F6E2E77726974652D64617465732D61732D74696D657374616D70733D66616C73650A0A64617461666C6F772E6573536572766572733D3139322E3136382E342E38343A393230300A737072696E672E7468796D656C6561662E63616368653D66616C73650A64617461666C6F772E757365726E616D653D64617461666C6F770A64617461666C6F772E70617373776F72643D3131313131310A0A64617461666C6F772E7A6B536572766572733D3139322E3136382E342E38313A323138310A0A737072696E672E64617461736F757263652E75726C203D206A6462633A6D7973716C3A2F2F3139322E3136382E342E31303A333330362F6170702D6465762D64623F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D7574662D382673657276657254696D657A6F6E653D474D540A737072696E672E64617461736F757263652E757365726E616D65203D206D706D726561640A737072696E672E64617461736F757263652E70617373776F7264203D20686B674079230A0A737072696E672E64617461736F757263652E747970653D6F72672E6170616368652E746F6D6361742E6A6462632E706F6F6C2E44617461536F757263650A0A737072696E672E64617461736F757263652E746F6D6361742E6D696E49646C653D31300A737072696E672E64617461736F757263652E746F6D6361742E6D61784163746976653D33300A0A6C6F6767696E672E636F6E6669673D636C617373706174683A636F6E6669672F6C6F676261636B2D737072696E672E786D6C0A230A6C6F6767696E672E6C6576656C2E64616F3D6465627567, '3', '2018-12-20 05:17:56', '0', '4', 'properties', 'xx');
INSERT INTO `config` VALUES ('17', '6', 'test-192.168.4.93', '3', 0x7365727665722E706F72743D383038300D0A737072696E672E6A61636B736F6E2E646174652D666F726D61743D797979792D4D4D2D64642048483A6D6D3A73730D0A737072696E672E6A61636B736F6E2E74696D652D7A6F6E653D474D542B380D0A737072696E672E6A61636B736F6E2E73657269616C697A6174696F6E2E77726974652D64617465732D61732D74696D657374616D70733D66616C73650D0A0D0A64617461666C6F772E6573536572766572733D3139322E3136382E342E39343A393230303B3139322E3136382E342E39353A393230300D0A737072696E672E7468796D656C6561662E63616368653D66616C73650D0A64617461666C6F772E757365726E616D653D64617461666C6F770D0A64617461666C6F772E70617373776F72643D3635343332310D0A0D0A64617461666C6F772E7A6B536572766572733D3139322E3136382E342E39313A323138310D0A0D0A737072696E672E64617461736F757263652E75726C203D206A6462633A6D7973716C3A2F2F3139322E3136382E342E31303A333330362F6170702D63657368692D64623F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D7574662D382673657276657254696D657A6F6E653D474D540D0A737072696E672E64617461736F757263652E757365726E616D65203D206D706D726561640D0A737072696E672E64617461736F757263652E70617373776F7264203D20686B674079230D0A0D0A737072696E672E64617461736F757263652E747970653D6F72672E6170616368652E746F6D6361742E6A6462632E706F6F6C2E44617461536F757263650D0A0D0A737072696E672E64617461736F757263652E746F6D6361742E6D696E49646C653D31300D0A737072696E672E64617461736F757263652E746F6D6361742E6D61784163746976653D33300D0A0D0A230D0A6C6F6767696E672E6C6576656C2E64616F3D64656275670D0A0D0A6C6F6767696E672E636F6E6669673D636C617373706174683A636F6E6669672F6C6F676261636B2D737072696E672E786D6C, '3', '2018-12-20 05:17:36', '0', '4', 'properties', '1.0.0');
INSERT INTO `config` VALUES ('18', '6', 'gggg', '3', 0x6665776566650A73660A640A0A0A666473, '3', '2018-12-20 10:14:26', '0', '3', 'properties', '1.0.1-b');
INSERT INTO `config` VALUES ('19', '14', '干', '4', 0x737072696E672E70726F66696C65732E6163746976653D646576, '3', '2019-01-08 15:51:30', '0', '3', 'properties', '0.0.1');

-- ----------------------------
-- Table structure for config_history
-- ----------------------------
DROP TABLE IF EXISTS `config_history`;
CREATE TABLE `config_history` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `config_id` bigint(20) NOT NULL COMMENT '配置表的id',
  `version` varchar(32) COLLATE utf8_bin NOT NULL COMMENT '版本号',
  `content` text COLLATE utf8_bin,
  `create_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of config_history
-- ----------------------------
INSERT INTO `config_history` VALUES ('4', '9', '1.0.2', 0x78, '2018-12-18 07:23:24');
INSERT INTO `config_history` VALUES ('5', '9', '1.0.0', 0x78, '2018-12-18 07:25:24');
INSERT INTO `config_history` VALUES ('6', '10', '1.0.1', 0x6161613D31, '2018-12-18 09:31:29');
INSERT INTO `config_history` VALUES ('7', '16', 'xx', 0x7365727665722E706F72743D383038310A737072696E672E6A61636B736F6E2E646174652D666F726D61743D797979792D4D4D2D64642048483A6D6D3A73730A737072696E672E6A61636B736F6E2E74696D652D7A6F6E653D474D542B380A737072696E672E6A61636B736F6E2E73657269616C697A6174696F6E2E77726974652D64617465732D61732D74696D657374616D70733D66616C73650A0A64617461666C6F772E6573536572766572733D3139322E3136382E342E38343A393230300A737072696E672E7468796D656C6561662E63616368653D66616C73650A64617461666C6F772E757365726E616D653D64617461666C6F770A64617461666C6F772E70617373776F72643D3131313131310A0A64617461666C6F772E7A6B536572766572733D3139322E3136382E342E38313A323138310A0A737072696E672E64617461736F757263652E75726C203D206A6462633A6D7973716C3A2F2F3139322E3136382E342E31303A333330362F6170702D6465762D64623F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D7574662D382673657276657254696D657A6F6E653D474D540A737072696E672E64617461736F757263652E757365726E616D65203D206D706D726561640A737072696E672E64617461736F757263652E70617373776F7264203D20686B674079230A0A737072696E672E64617461736F757263652E747970653D6F72672E6170616368652E746F6D6361742E6A6462632E706F6F6C2E44617461536F757263650A0A737072696E672E64617461736F757263652E746F6D6361742E6D696E49646C653D31300A737072696E672E64617461736F757263652E746F6D6361742E6D61784163746976653D33300A0A6C6F6767696E672E636F6E6669673D636C617373706174683A636F6E6669672F6C6F676261636B2D737072696E672E786D6C0A230A6C6F6767696E672E6C6576656C2E64616F3D6465627567, '2018-12-20 05:19:22');
INSERT INTO `config_history` VALUES ('8', '16', 'xx-y', 0x7365727665722E706F72743D383038310A737072696E672E6A61636B736F6E2E646174652D666F726D61743D797979792D4D4D2D64642048483A6D6D3A73730A737072696E672E6A61636B736F6E2E74696D652D7A6F6E653D474D542B380A737072696E672E6A61636B736F6E2E73657269616C697A6174696F6E2E77726974652D64617465732D61732D74696D657374616D70733D66616C73650A0A64617461666C6F772E6573536572766572733D3139322E3136382E342E38343A393230300A737072696E672E7468796D656C6561662E63616368653D66616C73650A64617461666C6F772E757365726E616D653D64617461666C6F770A64617461666C6F772E70617373776F72643D3131313131310A0A64617461666C6F772E7A6B536572766572733D3139322E3136382E342E38313A323138310A0A737072696E672E64617461736F757263652E75726C203D206A6462633A6D7973716C3A2F2F3139322E3136382E342E31303A333330362F6170702D6465762D64623F757365556E69636F64653D7472756526636861726163746572456E636F64696E673D7574662D382673657276657254696D657A6F6E653D474D540A737072696E672E64617461736F757263652E757365726E616D65203D206D706D726561640A737072696E672E64617461736F757263652E70617373776F7264203D20686B674079230A0A737072696E672E64617461736F757263652E747970653D6F72672E6170616368652E746F6D6361742E6A6462632E706F6F6C2E44617461536F757263650A0A737072696E672E64617461736F757263652E746F6D6361742E6D696E49646C653D31300A737072696E672E64617461736F757263652E746F6D6361742E6D61784163746976653D33300A0A6C6F6767696E672E636F6E6669673D636C617373706174683A636F6E6669672F6C6F676261636B2D737072696E672E786D6C0A230A6C6F6767696E672E6C6576656C2E64616F3D6465627567, '2018-12-20 05:19:30');
INSERT INTO `config_history` VALUES ('9', '18', '1.0.1-a', 0x666577656665, '2018-12-20 10:14:03');

-- ----------------------------
-- Table structure for config_user
-- ----------------------------
DROP TABLE IF EXISTS `config_user`;
CREATE TABLE `config_user` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `username` varchar(32) COLLATE utf8_bin DEFAULT NULL,
  `password` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT 'MD5加密',
  `fullname` varchar(32) COLLATE utf8_bin DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `last_login_time` datetime DEFAULT NULL,
  `is_revise` smallint(6) DEFAULT NULL COMMENT '0: 初始化密码   1: 修改后密码',
  `email` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '邮箱地址，接收验证码等',
  `is_admin` smallint(6) NOT NULL DEFAULT '0' COMMENT '1是管理员，0不是管理员',
  `enabled` bit(1) DEFAULT b'1',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=14 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of config_user
-- ----------------------------
INSERT INTO `config_user` VALUES ('3', 'admin', '96e79218965eb72c92a549dd5a330112', '系统管理员', null, null, '0', '253187898@qq.com', '1', '');
INSERT INTO `config_user` VALUES ('4', 'yexinzhou', '96e79218965eb72c92a549dd5a330112', '夜行舟', '2018-12-17 08:20:55', null, null, '253187898@qq.com', '0', '');
INSERT INTO `config_user` VALUES ('6', 'zhengmingzhi', 'ac6a06cc44d5180a1c243a2a541b10b0', '军医', '2018-12-18 06:52:42', null, null, '184954256@qq.com', '0', '');
INSERT INTO `config_user` VALUES ('9', 'aaa25555555', '2413eb955f9b337e856aefcd224ea037', '啊啊啊we', '2018-12-18 08:33:34', null, null, '253187898@qq.com', '0', '\0');
INSERT INTO `config_user` VALUES ('10', 'aaaa', '7b47b795df0d596bc1f995d6e6cfa135', '啊啊啊', '2018-12-18 08:38:48', null, null, '253187898@qq.com', '0', '');
INSERT INTO `config_user` VALUES ('11', 'ewqeqewqe', '5909b23a949a9c434148b7020baf8cc3', '夜行舟', '2018-12-19 05:30:04', null, null, 'fefw@qq.com', '0', '');
INSERT INTO `config_user` VALUES ('12', 'winywork', '1834784bdb5f502b0860545b3cab8cdb', 'work', '2019-01-08 15:48:49', null, null, 'work@163.com', '0', '');

-- ----------------------------
-- Table structure for env_type
-- ----------------------------
DROP TABLE IF EXISTS `env_type`;
CREATE TABLE `env_type` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `name` varchar(32) COLLATE utf8_bin NOT NULL,
  `public_flag` smallint(6) NOT NULL DEFAULT '1' COMMENT '1开放环境，0机密环境',
  `secret` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '获取环境配置需要的安全密码',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=8 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of env_type
-- ----------------------------
INSERT INTO `env_type` VALUES ('3', '测试环境', '1', '');
INSERT INTO `env_type` VALUES ('4', '开发环境', '1', '');
INSERT INTO `env_type` VALUES ('6', '预发布环境', '0', '12345678');

-- ----------------------------
-- Table structure for project
-- ----------------------------
DROP TABLE IF EXISTS `project`;
CREATE TABLE `project` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `uid` bigint(20) NOT NULL COMMENT '创作者id',
  `name` varchar(64) COLLATE utf8_bin NOT NULL COMMENT '工程英文名称',
  `owner` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '负责人',
  `contact` varchar(64) COLLATE utf8_bin DEFAULT NULL COMMENT '负责人联系方式',
  `remark` varchar(255) COLLATE utf8_bin DEFAULT NULL COMMENT '工程说明',
  `label` varchar(128) COLLATE utf8_bin DEFAULT NULL COMMENT '标签信息，可用于分组查询',
  `create_time` datetime DEFAULT NULL ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of project
-- ----------------------------
INSERT INTO `project` VALUES ('5', '6', 'dove3.0', null, null, '聚贸框架', '丝滑', '2018-12-18 06:53:40');
INSERT INTO `project` VALUES ('6', '4', 'dataflow', null, 'b', 'ES数据同步服务', 'c', '2018-12-18 09:07:06');
INSERT INTO `project` VALUES ('7', '3', 'dataflow2', null, 'ewfew', 'weweeww', 'fewfe', '2018-12-19 14:10:08');
INSERT INTO `project` VALUES ('12', '3', 'xxxx', null, 'wew', 'xxx', 'ewe', '2019-01-08 09:11:24');
INSERT INTO `project` VALUES ('14', '3', 'work-pro', null, '', 'xxx', '', '2019-01-08 15:49:51');

-- ----------------------------
-- Table structure for project_member
-- ----------------------------
DROP TABLE IF EXISTS `project_member`;
CREATE TABLE `project_member` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `uid` bigint(20) NOT NULL COMMENT '用户id',
  `project_id` bigint(20) NOT NULL COMMENT '工程id',
  `is_creator` smallint(6) NOT NULL DEFAULT '0' COMMENT '1 创建者，0 非创建者',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=18 DEFAULT CHARSET=utf8 COLLATE=utf8_bin;

-- ----------------------------
-- Records of project_member
-- ----------------------------
INSERT INTO `project_member` VALUES ('6', '6', '5', '1');
INSERT INTO `project_member` VALUES ('8', '4', '6', '1');
INSERT INTO `project_member` VALUES ('9', '3', '7', '1');
INSERT INTO `project_member` VALUES ('10', '3', '8', '1');
INSERT INTO `project_member` VALUES ('11', '3', '9', '1');
INSERT INTO `project_member` VALUES ('12', '3', '10', '1');
INSERT INTO `project_member` VALUES ('13', '3', '11', '1');
INSERT INTO `project_member` VALUES ('14', '3', '12', '1');
INSERT INTO `project_member` VALUES ('17', '3', '14', '1');
